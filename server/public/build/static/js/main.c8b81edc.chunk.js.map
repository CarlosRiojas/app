{"version":3,"sources":["services/auth.js","hooks/context.js","components/LayoutApp.js","pages/Signup.js","pages/Login.js","pages/Profile.js","Router.js","reportWebVitals.js","index.js"],"names":["authService","axios","create","baseURL","withCredentials","signupFn","userInfo","post","loginFn","currentUserFn","get","logoutFn","AppContext","createContext","AppCtxProvider","props","useState","user","setUser","useEffect","a","data","login","getSessionData","value","logout","Provider","useContextInfo","useContext","Header","Layout","Content","Footer","LayoutApp","children","className","theme","mode","Item","to","Fragment","onClick","style","padding","height","textAlign","Title","Typography","Signup","history","Form","useForm","form","userInput","push","span","level","layout","onFinish","name","label","Password","type","block","htmlType","Login","Profile","xs","sm","md","email","Home","Router","path","component","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c8b81edc.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseURL = '/auth'\n\nconst authService = axios.create({\n  baseURL,\n  withCredentials: true\n})\n\n// 1. Signup \nexport const signupFn = userInfo =>\n  authService.post('/signup', userInfo)\n\nexport const loginFn = userInfo =>\n  authService.post('/login', userInfo)\n\nexport const currentUserFn = () =>\n  authService.get('/current-user')\n\nexport const logoutFn = () =>\n  authService.get('/logout')","import {\n  useState,\n  createContext,\n  useContext,\n  useEffect\n} from 'react'\n\nimport { currentUserFn } from '../services/auth'\n\nexport const AppContext = createContext()\n\nexport const AppCtxProvider = props => {\n  const [user, setUser] = useState(null)\n\n  useEffect(() => {\n    async function getSessionData() {\n      const { data } = await currentUserFn()\n      login(data);\n    }\n\n    getSessionData()\n  }, [])\n\n  const login = userInfo => {\n    setUser(userInfo)\n  }\n\n  const logout = () => {\n    //TODO: Cerrar la sesion en el server y en el cliente\n    setUser(null)\n  }\n\n  const value = { user, login, logout }\n\n  return (\n    <AppContext.Provider {...props} value={value} />\n  )\n}\n\n// Opcional: agregamos un custom hook para evitar consumir en cada componente nuestro ctx\n\nexport const useContextInfo = () => useContext(AppContext)\n","import React from 'react'\nimport { Layout, Menu } from 'antd';\nimport { Link } from 'react-router-dom'\nimport { useContextInfo } from '../hooks/context'\nimport { logoutFn } from '../services/auth'\nconst { Header, Content, Footer } = Layout;\n\n\nconst LayoutApp = ({ children }) => {\n  const { user, logout } = useContextInfo()\n\n  async function handleLogout() {\n    await logoutFn()\n    logout()\n  }\n\n  return (\n    <Layout className=\"layout\">\n      <Header>\n        <div className=\"logo\" />\n        <Menu theme=\"dark\" mode=\"horizontal\">\n          <Menu.Item key=\"1\">\n            <Link to=\"/\">\n              Home\n            </Link>\n          </Menu.Item>\n          {!user ? <>\n            <Menu.Item key=\"2\">\n              <Link to=\"/signup\">\n                Signup\n            </Link>\n            </Menu.Item>\n            <Menu.Item key=\"3\">\n              <Link to=\"/login\">\n                Login\n            </Link>\n            </Menu.Item>\n          </> : <React.Fragment>\n              <Menu.Item key=\"4\">\n                <Link to=\"/profile\">\n                  Profile\n              </Link>\n              </Menu.Item>\n              <Menu.Item key=\"5\" onClick={handleLogout}>\n                Logout\n            </Menu.Item>\n            </React.Fragment>}\n\n        </Menu>\n      </Header>\n      <br />\n      <Content style={{ padding: '0 50px', height: 'calc(100vh - 153.6px)' }}>\n        <div className=\"site-layout-content\">{children}</div>\n      </Content>\n      <Footer style={{ textAlign: 'center' }}>Ant Design Â©2018 Created by Ant UED</Footer>\n    </Layout>\n  )\n}\n\nexport default LayoutApp\n","import React from 'react'\nimport { Row, Col, Form, Input, Button, Typography, Divider } from 'antd'\nimport { signupFn } from '../services/auth'\n\nconst { Title } = Typography\n\nconst Signup = ({ history }) => {\n  const [form] = Form.useForm()\n\n  async function handleSubmit(userInput) {\n    await signupFn(userInput)\n    history.push('/login')\n  }\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Title level={1}>Signup</Title>\n      </Col>\n      <Divider />\n      <Col span={24}>\n        <Form layout=\"vertical\" form={form} onFinish={handleSubmit}>\n          <Form.Item name='email' label=\"Email:\">\n            <Input />\n          </Form.Item>\n          <Form.Item name='password' label=\"Password:\">\n            <Input.Password />\n          </Form.Item>\n          <Button type=\"primary\" block htmlType=\"submit\">\n            Signup\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Signup\n","import React from 'react'\nimport { Row, Col, Form, Input, Button, Typography, Divider } from 'antd'\nimport { loginFn } from '../services/auth'\nimport { useContextInfo } from '../hooks/context'\n\nconst { Title } = Typography\n\nconst Login = ({ history }) => {\n  const [form] = Form.useForm()\n  const { login } = useContextInfo()\n\n  async function handleSubmit(userInput) {\n    const { data } = await loginFn(userInput)\n    login(data);\n    history.push('/profile')\n  }\n\n  return (\n    <Row>\n      <Col span={24}>\n        <Title level={1}>Login</Title>\n      </Col>\n      <Divider />\n      <Col span={24}>\n        <Form layout=\"vertical\" form={form} onFinish={handleSubmit}>\n          <Form.Item name='email' label=\"Email:\">\n            <Input />\n          </Form.Item>\n          <Form.Item name='password' label=\"Password:\">\n            <Input.Password />\n          </Form.Item>\n          <Button type=\"primary\" block htmlType=\"submit\">\n            Login\n          </Button>\n        </Form>\n      </Col>\n    </Row>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { Typography, Row, Col } from 'antd'\nimport { useContextInfo } from '../hooks/context'\nimport { Redirect } from 'react-router-dom'\n\nconst Profile = () => {\n  const { user } = useContextInfo()\n  return user ? (\n    <Row>\n      <Col xs={24} sm={24} md={12}>\n        <Typography.Title level={3}>\n          Profile: {user.email}\n        </Typography.Title>\n      </Col>\n    </Row>) :\n    <Redirect to='/' />\n\n}\n\nexport default Profile\n","import React from 'react'\nimport {\n  BrowserRouter,\n  Route,\n  Switch\n} from 'react-router-dom'\nimport LayoutApp from \"./components/LayoutApp\";\nimport Signup from './pages/Signup'\nimport Login from './pages/Login'\nimport Profile from './pages/Profile'\n\n\nconst Home = () => <h1>Home</h1>\n// const Login = () => <h1>Login</h1>\n// const Signup = () => <h1>Signup</h1>\n// const Profile = () => <h1>Profile</h1>\n\nconst Router = () => {\n  return (\n    <BrowserRouter >\n      <LayoutApp>\n        <Switch>\n          <Route path='/' component={Home} exact />\n          <Route path='/login' component={Login} />\n          <Route path='/signup' component={Signup} />\n          <Route path='/profile' component={Profile} />\n        </Switch>\n      </LayoutApp>\n    </BrowserRouter>\n  )\n}\n\nexport default Router\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n// import App from './App';\nimport Router from './Router'\nimport reportWebVitals from './reportWebVitals';\nimport 'antd/dist/antd.dark.css'\nimport { AppCtxProvider } from './hooks/context'\n\nReactDOM.render(\n  // <React.StrictMode>\n  <AppCtxProvider>\n    <Router />\n  </AppCtxProvider>\n  ,// </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}